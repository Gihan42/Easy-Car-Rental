<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">

    <title>Admin Dashboard</title>
</head>
<style>
    body{
        overflow-x: hidden;
        z-index: 0;
        color: #191919;
    }
.card{
    margin-top: 20px;
    box-shadow: rgba(0, 0, 0, 0.09) 0px 2px 1px, rgba(0, 0, 0, 0.09) 0px 4px 2px, rgba(0, 0, 0, 0.09) 0px 8px 4px, rgba(0, 0, 0, 0.09) 0px 16px 8px, rgba(0, 0, 0, 0.09) 0px 32px 16px;
}
.card:hover{
    cursor: pointer;
}
#adminContainer{
    padding:10px 110px 110px 110px;
}
.cards{
    padding: 10px 50px 10px 50px;
}
.modal-content{
    width: max-content;
}
    .modal-body{overflow: scroll}
</style>
<body>
<!--navbar start-->
<!--navbar start-->
<!-- Services Section Begin -->
<div class="container text-center" id="adminContainer">
    <h1>Admin</h1>
    <div class="row">
        <div class="col" >
            <div class="card" style="width: 18rem;">
                <img src="../assest/img/istockphoto-1341141923-612x612.jpg" class="card-img-top" alt="..." >
                <div class="card-body">
                    <h5 class="card-title">Registered User</h5>
                    <h1 class="card-title" style="color: #263e60" id="RegisteredUser"></h1>
                </div>
            </div>
        </div>
        <div class="col" >
            <div class="card" style="width: 18rem;">
                <img src="../assest/img/123.jpg" class="card-img-top" alt="..." style="width: 70%; height: 20%">
                <div class="card-body">
                    <h5 class="card-title">Available   Cars</h5>
                    <h1 class="card-title" style="color: #263e60" id="availableCars"></h1>
                </div>
            </div>
        </div>
        <div class="col">
            <div class="card" style="width: 18rem;">
                <img src="../assest/img/driver.jpg" class="card-img-top" alt="..." style="width: 89% ; height: 20%">
                <div class="card-body">
                    <h5 class="card-title">Available   Driver</h5>
                    <h1 class="card-title" style="color: #263e60">20+</h1>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col" >
            <div class="card" style="width: 18rem;">
                <img src="../assest/img/maintance.jpg" class="card-img-top" alt="..." style="height: 50%;width: 100%;">
                <div class="card-body">
                    <h5 class="card-title">Car That Need Maintenance</h5>
                    <h1 class="card-title" style="color: #263e60">105+</h1>
                </div>
            </div>
        </div>
        <div class="col" >
            <div class="card" style="width: 18rem;">
                <img src="../assest/img/booking-flights.jpg" class="card-img-top" alt="..." style="width: 90% ; height: 20%">
                <div class="card-body">
                    <h5 class="card-title">Booking Active</h5>
                    <h1 class="card-title" style="color: #263e60">10+</h1>
                </div>
            </div>
        </div>
        <div class="col">
            <div class="card" style="width: 18rem;">
                <img src="../assest/img/Project_1-07.jpg" class="card-img-top" alt="..." style="width: 75% ; height: 20%">
                <div class="card-body">
                    <h5 class="card-title">Bookings for the day</h5>
                    <h1 class="card-title" style="color: #263e60">20+</h1>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Services Section End -->

<!--tabs start-->
<div class="cards">
<div class="row">
    <div class="col-sm-6 mb-3 mb-sm-0">
        <div class="card">
            <div class="card-body">
                <h5 class="card-title">Customer Manage</h5>
                <p class="card-text">With supporting text below as a natural lead-in to additional content.</p>
                <button class="btn btn-danger" data-bs-target="#exampleModal" data-bs-toggle="modal" type="button" id="CustomerManager">
                    Go Customer ->
                </button>
                <button class="btn btn-secondary" data-bs-target="#allCustomer" data-bs-toggle="modal" type="button" id="getAllCustomer">
                    Get All Customer ->
                </button>

                <form class="col-2 " id="CustomerForms" >
                    <div aria-hidden="true" aria-labelledby="exampleModalLabel" class="modal fade" id="exampleModal" tabindex="-1" id="Customerform" >
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header" style="background-color: #46b2ff;">
                                    <h5 class="modal-title" id="exampleModalLabel1">Customer </h5>
                                    <button aria-label="Close" class="btn-close" data-bs-dismiss="modal" type="button"></button>
                                </div>

                                <div class="container text-center">

                                        <div class="col">
                                            <div class="modal-body">
                                                <section>
                                                    <div class="mb-3">

                                                        <input class="form-control" id="txtCustomerId" type="text" name="cusID" placeholder="Nic">
                                                    </div>
                                                    <div class="mb-3">

                                                        <input class="form-control" id="txtCustomerName" multiple type="text" name="name" placeholder="Name">
                                                    </div>
                                                    <div class="mb-3">

                                                        <input class="form-control" id="txtCustomerAddress" type="text" name="address" placeholder="Address">
                                                    </div>
                                                    <div class="mb-3">

                                                        <input class="form-control form-control-sm" id="txtCustomerPassword" type="text" name="password" placeholder="Password">
                                                    </div>
                                                    <div class="mb-3">

                                                        <input class="form-control form-control-sm" id="txtCustomerContactNum" type="number" name="contactnom" placeholder="ContactNum">
                                                    </div>

                                                    <div class="mb-3">

                                                        <input class="form-control form-control-sm" id="txtCustomerLicence" type="text" name="LicenceNum" placeholder="Licence">
                                                    </div>

                                                    <div class="mb-3">
                                                        <input class="form-control" type="file" id="formFiles23" placeholder="Please insert nic picture ">
                                                    </div>

                                                    <div aria-label="Basic mixed styles example" class="btn-group" role="group">
                                                        <button class="btn btn-danger" type="button" id="CustomerDelete"  > Delete</button>
                                                        <button class="btn btn-warning" type="button" id="CustomerUpdate"   > Update</button>
                                                        <button class="btn btn-success " type="button" id="save-customer" > Save</button>
                                                        <button class="btn btn-info " type="button" id="search-Customer"  >Search </button>
                                                    </div>
                                                </section>
                                            </div>
                                        </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div aria-hidden="true" aria-labelledby="exampleModalLabel" class="modal fade" id="allCustomer" tabindex="-1" id="getAllCustomerTable" >
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header" style="background-color: #46b2ff;">
                                    <h5 class="modal-title" id="exampleModalLabe">Get All Customer </h5>
                                    <button aria-label="Close" class="btn-close" data-bs-dismiss="modal" type="button"></button>
                                </div>

                                <div class="container text-center">

                                    <div class="col">
                                        <div class="modal-body">
                                            <section>
                                                <table class="table">
                                                    <thead>
                                                    <tr>
                                                        <th scope="col" id="tableNic">nic</th>
                                                        <th scope="col" id="tableName">name</th>
                                                        <th scope="col" id="tableAddress">address</th>
                                                        <th scope="col" id="tablePassword">password</th>
                                                        <th scope="col" id="tableContactNo">contactNum</th>
                                                        <th scope="col" id="tableLicence">licence</th>
                                                    </tr>
                                                    </thead>
                                                    <tbody id="customerTableBody">
                                                    <tr>

                                                    </tr>

                                                    </tbody>
                                                </table>
                                            </section>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                </form>

            </div>
        </div>
    </div>
    <div class="col-sm-6">
        <div class="card">
            <div class="card-body">
                <h5 class="card-title">Manage Driver</h5>
                <p class="card-text">With supporting text below as a natural lead-in to additional content.</p>
                <button class="btn btn-danger" data-bs-target="#exampleModal1" data-bs-toggle="modal" type="button" id="DrivrManage">
                    Go Driver ->
                </button>
                <button class="btn btn-info" data-bs-target="#getAllDriver" data-bs-toggle="modal" type="button" id="DriverManage">
                    Get All Driver ->
                </button>


                <form class="col-2 " id="driverForm" >
                    <div aria-hidden="true" aria-labelledby="exampleModalLabel" class="modal fade" id="exampleModal1" tabindex="-1" id="driverForms" >
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header" style="background-color: #46b2ff;">
                                    <h5 class="modal-title" id="exampleModalLabel3">Driver</h5>
                                    <button aria-label="Close" class="btn-close" data-bs-dismiss="modal" type="button"></button>
                                </div>
                                <div class="modal-body">
                                    <section>
                                        <div class="mb-3">

                                            <input class="form-control" id="txtDriverId" type="text" name="driverID" placeholder="licence No">
                                        </div>
                                        <div class="mb-3">

                                            <input class="form-control" id="txtDriverame" multiple type="text" name="drivername" placeholder="Name">
                                        </div>
                                        <div class="mb-3">

                                            <input class="form-control" id="txtDriverAddress" type="text" name="driveraddress" placeholder="Address">
                                        </div>
                                        <div class="mb-3">

                                            <input class="form-control" id="txtDriverContact" type="text" name="driverContact" placeholder="Contact No">
                                        </div>
                                        <div class="mb-3">

                                            <input class="form-control" id="txtDriverVailable" type="text" name="isAvailable" placeholder="Availability">
                                        </div>

                                        <div aria-label="Basic mixed styles example" class="btn-group" role="group">
                                            <button class="btn btn-danger" type="button" id="DriverDelete"  > Delete</button>
                                            <button class="btn btn-warning" type="button" id="DriverUpdate"   > Update</button>
                                            <button class="btn btn-success " type="button" id="save-Driver" > Save</button>
                                            <button class="btn btn-info " type="button" id="search-Driver"  >Search </button>
                                        </div>
                                    </section>
                                </div>
                                <div class="modal-footer">
                                    <button class="btn btn-secondary" type="button">Close</button>
                                    <button class="btn btn-primary" type="button">Save changes</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div aria-hidden="true" aria-labelledby="exampleModalLabel" class="modal fade" id="getAllDriver" tabindex="-1" id="getAllDriverTable" >
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header" style="background-color: #46b2ff;">
                                    <h5 class="modal-title" id="exampleModalLabels">Get All Driver </h5>
                                    <button aria-label="Close" class="btn-close" data-bs-dismiss="modal" type="button"></button>
                                </div>

                                <div class="container text-center">

                                    <div class="col">
                                        <div class="modal-body">
                                            <section>
                                                <table class="table">
                                                    <thead>
                                                    <tr>
                                                        <th scope="col">driverID</th>
                                                        <th scope="col">drivername</th>
                                                        <th scope="col">driveraddress</th>
                                                        <th scope="col">driverContact</th>
                                                        <th scope="col">Availability</th>
                                                    </tr>
                                                    </thead>
                                                    <tbody id="driverTableBody">
                                                    <tr>

                                                    </tr>
                                                    </tbody>
                                                </table>
                                            </section>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>


                </form>

            </div>
        </div>
    </div>

    <div class="col-sm-6">
        <div class="card">
            <div class="card-body">
                <h5 class="card-title">Manage Car</h5>
                <p class="card-text">With supporting text below as a natural lead-in to additional content.</p>
                <button class="btn btn-danger" data-bs-target="#exampleModal2" data-bs-toggle="modal" type="button" id="addnewCustomer">
                    Go Car ->
                </button>
                <button class="btn btn-warning" data-bs-target="#getAllCar" data-bs-toggle="modal" type="button" id="car">
                    Get All Car ->
                </button>

                <!-- new customer -->
                <form class="col-2 " id="carForms" >
                    <div aria-hidden="true" aria-labelledby="exampleModalLabel" class="modal fade" id="exampleModal2" tabindex="-1" id="CarForm" >
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header" style="background-color: #46b2ff;">
                                    <h5 class="modal-title" id="exampleModalLabel">Car Manage</h5>
                                    <button aria-label="Close" class="btn-close" data-bs-dismiss="modal" type="button"></button>
                                </div>
                                <div class="modal-body">
                                    <section>
                                        <div class="mb-3">

                                            <input class="form-control" id="txtcarNom" type="text" name="vehicleNum" placeholder="vehicle Num">
                                        </div>
                                        <div class="mb-3">

                                            <input class="form-control" id="txtcarColor" multiple type="text" name="Color" placeholder="Colour">
                                        </div>
                                        <div class="mb-3">

                                            <input class="form-control form-control-sm" id="txtcarMonthlyPrice" type="number" name="carMonthlyprice" placeholder="Monthly-Price">
                                        </div>
                                        <div class="mb-3">

                                            <input class="form-control form-control-sm" id="txtcarDailyPrice" type="number" name="carDailyprice" placeholder="Daily-Price">
                                        </div>
                                        <div class="mb-3">
                                            <input class="form-control" type="file" id="formFile" placeholder="Please insert four picture ">
                                        </div>
                                        <div class="mb-3">
                                            <input class="form-control" type="text" id="Available" placeholder="Is Available " name="available">
                                        </div>

                                        <div class="mb-3">

                                            <input class="form-control form-control-sm" id="txtcarPriceperKm" type="number" name="carpricePerKm" placeholder="Price-Per-Km">
                                        </div>
                                        <div class="mb-3">

                                            <input class="form-control form-control-sm" id="txtcarTransmitionType" type="text" name="carTransmitionType" placeholder="Transmition-Type">
                                        </div>
                                        <div class="mb-3">

                                            <input class="form-control form-control-sm" id="txtcarFuelType" type="text" name="carFuelType" placeholder="Fuel-Type">
                                        </div>
                                        <select class="form-select" aria-label="Default select example" id="cmbCarType" name=""  style="margin-bottom: 10px">
                                            <option value="General">General</option>
                                            <option value="Premium">Premium</option>
                                            <option value="Luxury">Luxury</option>
                                        </select>
                                        <div class="mb-3">

                                            <input class="form-control form-control-sm" id="txtCarType" type="text" name="vehicleType" placeholder="Car-Type">
                                        </div>

                                        <div aria-label="Basic mixed styles example" class="btn-group" role="group">
                                            <button class="btn btn-danger" type="button" id="carDelete"  > Delete</button>
                                            <button class="btn btn-warning" type="button" id="carrUpdate"   > Update</button>
                                            <button class="btn btn-success " type="button" id="save-car" >Save</button>
                                            <button class="btn btn-info " type="button" id="SearchCar"  >Search-Car</button>
                                        </div>
                                    </section>
                                </div>
                                <div class="modal-footer">
                                    <button class="btn btn-secondary" type="button">Close</button>
                                    <button class="btn btn-primary" type="button">Save changes</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div aria-hidden="true" aria-labelledby="exampleModalLabel" class="modal fade" id="getAllCar" tabindex="-1" id="getAllCarTable" >
                        <div class="modal-dialog position-absolute ms-5" >
                            <div class="modal-content">
                                <div class="modal-header" style="background-color: #46b2ff;">
                                    <h5 class="modal-title" id="exampleModalLabels1">Get All Car </h5>
                                    <button aria-label="Close" class="btn-close" data-bs-dismiss="modal" type="button"></button>
                                </div>

                                <div class="container text-center">

                                    <div class="col">
                                        <div class="modal-body" style="overflow: scroll">
                                            <section>
                                                <table class="table">
                                                    <thead>
                                                    <tr>
                                                        <th scope="col">vehicleNum</th>
                                                        <th scope="col">Color</th>
                                                        <th scope="col">CarMonthlyprice</th>
                                                        <th scope="col">CarDailyprice</th>
                                                        <th scope="col">available</th>
                                                        <th scope="col">CarpricePerKm</th>
                                                        <th scope="col">CarTransmitionType</th>
                                                        <th scope="col">CarFuelType</th>
                                                        <th scope="col">Vehicle Type</th>
                                                    </tr>
                                                    </thead>
                                                    <tbody id="carTable">

                                                    </tbody>
                                                </table>
                                            </section>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>



                </form>

            </div>
        </div>
    </div>
</div>
</div>
<!--tabs end-->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js"></script>
<script src="jquery-3.6.1.min.js"></script>
<script>
    let baseurl="http://localhost:8080/BackEnd_war/"
    let basurlTwo="http://localhost:8080/BackEnd_war/"
    let baseurlThree="http://localhost:8080/BackEnd_war/"
    // CUSTOMER START
    LoadAllCustomer();
    countCustomer();
    $('#getAllCustomer').click(function (){
        LoadAllCustomer();
    });
    function LoadAllCustomer(){
        $.ajax({
            url:baseurl+"customer",
            success:function (res){
                console.log(res)
                // res = JSON.parse(res)
                $('#customerTableBody').empty();
                for (let i =0;i < res.data.length;i++){
                    $('#customerTableBody').append(`<tr><td>`+ res.data[i].nic +`</td><td>` + res.data[i].name + `</td><td>` + res.data[i].address + `</td><td>` + res.data[i].password + `</td><td>` + res.data[i].contactNum + `</td><td>` + res.data[i].licence + `</td></tr>`)
                }},
            error(error) {
            }

        })
    }
    $('#search-Customer').click(function (){
        $.ajax({
            url:baseurl+"customer?nic=" + $('#txtDriverId' ).val(),
            dataType:"json",
            method:"get",
            success:function (res){
                console.log(res);
                $('#txtCustomerId').val(res.data[0].nic);
                $('#txtCustomerName').val(res.data[0].name);
                $('#txtCustomerAddress').val(res.data[0].address);
                $('#txtCustomerPassword').val(res.data[0].password);
                $('#txtCustomerContactNum').val(res.data[0].contactNum);
                $('#txtCustomerLicence').val(res.data[0].licence);
            },
            error(error) {
            }
        })
   });
    $('#CustomerUpdate').click(function (){
        alert('weda')
        let json={
            nic: $('#txtCustomerId').val(),
            name:$('#txtCustomerName').val(),
            address:$('#txtCustomerPassword').val(),
            password:$('#txtCustomerPassword').val(),
            contactNum:$('#txtCustomerContactNum').val(),
            licence:$('#txtCustomerLicence').val()
        };
        $.ajax({
            url:baseUrl+"customer",
            method: "put",
            data:JSON.stringify(json),
            dataType:"json",
            contentType:"application/json",
            success:function(res){
                alert(res.message)
                clearTextFeild();
            },
            error:function(error){
                alert(JSON.parse(error.responseText).message)
            }

        })

    });
    $('#CustomerDelete').click(function (){
        $.ajax({
            url:baseurl+"customer?nic=" + $('#txtCustomerId' ).val(),
            method:'delete',
            success:function (res){
                alert("success delete")
                clearTextFeild();
            },
            error:function (error){

            }

        })
    });
    function clearTextFeild(){
        $('#txtCustomerId').val('');
        $('#txtCustomerName').val('');
        $('#txtCustomerPassword').val('');
        $('#txtCustomerContactNum').val('');
    }
    function countCustomer(){
        $.ajax({
            url:baseurl+"customer?option=count",
            dataType:"json",
            success:function (res){
                LoadAllCustomer();
                $('#RegisteredUser').text(res.data+"+")
            }
        })
    }
    // CUSTOMER END
    // DRIVER START
    loadAllDrivers();

    $('#save-Driver').click(function (){
        let formData=$('#driverForm').serialize();
        $.ajax({
            url:basurlTwo+"driver",
            data:formData,
            dataType:"json",
            method:"post",
            success:function (res){
                alert(res.message);
                loadAllDrivers();
            },
            error:function (error){
                alert(JSON.parse(error.responseText).message)
            }
        })
    });
    $('#search-Driver').click(function (){
        $.ajax({
            url:basurlTwo+"driver?driverID=" + $('#txtDriverId').val(),
            dataType:"json",
            method:"get",
            success:function (res){
                console.log(res)
                $('#txtDriverId').val(res.data[0].driverID);
                $('#txtDriverame').val(res.data[0].drivername);
                $('#txtDriverAddress').val(res.data[0].driveraddress);
                $('#txtDriverContact').val(res.data[0].driverContact);
                $('#txtDriverVailable').val(res.data[0].isAvailable);

            },
            error:function (error){

            }
        })
    });
    function loadAllDrivers(){
       $.ajax({
           url:basurlTwo+"driver",
           success:function (res){
               $('#driverTableBody').empty();
               for (let i =0;i < res.data.length;i++){
                   $('#driverTableBody').append(`<tr><td>`+ res.data[i].driverID +`</td><td>` + res.data[i].drivername + `</td><td>` + res.data[i].driveraddress + `</td><td>` + res.data[i].driverContact + `</td><td>` + res.data[i].isAvailable + `</td></tr>`);
               }
           },
           error:function (error){

           }
       })
    }
    $('#DriverManage').click(function (){
        loadAllDrivers();
    });
    $('#DriverDelete').click(function (){
        $.ajax({
            url:basurlTwo+"driver?driverID=" + $('#txtDriverId').val(),
            method:"delete",
            success:function (res){
                alert('success deleted');
                clearDriverTextFeild();
            },
            error:function (error){
                alert("something went wrong")
            }
        })
    });
    function clearDriverTextFeild(){
        $('#txtDriverId').val('');
        $('#txtDriverame').val('');
        $('#txtDriverAddress').val('');
        $('#txtDriverContact').val('');
        $('#txtDriverVailable').val('')
    }
    $('#DriverUpdate').click(function (){
        let driverJson={
            driverID:$('#txtDriverId').val(),
            drivername:$('#txtDriverame').val(),
            driveraddress:$('#txtDriverContact').val(),
            driverContact:$('#txtDriverVailable').val()
        };
        $.ajax({
           url:basurlTwo+"driver",
           method:"put",
           data:JSON.stringify(driverJson),
           dataType:"json",
           contentType:"application/json" ,
            success:function (){
                clearDriverTextFeild();
               alert(res.message)
            },
            error:function (error){
               alert('something went wrong')
            }
        });
    });
    // DRIVER END
    //CAR START
    loadAllCar();
    countAvailableCar();
    $('#save-car').click(function (){
        let carData=$('#carForms').serialize();
        $.ajax({
            url:baseurlThree+"car",
            data:carData,
            dataType:"json",
            method:"post",
            success:function (res){
                alert(res.message);
                carTextFeildClear();
                loadAllCar();
            },
            error:function (error){
                alert(JSON.parse(error.responseText).message)
            }

        })

    });
    $('#SearchCar').click(function (){
        $.ajax({
            url:baseurlThree+"car?vehicleNum=" + $('#txtcarNom').val(),
            dataType:"json",
            method:"get",
            success:function (res){
                alert(res)
                $('#txtcarNom').val(res.data[0].vehicleNum);
                $('#txtcarColor').val(res.data[0].color);
                $('#txtcarMonthlyPrice').val(res.data[0].carMonthlyprice);
                $('#txtcarDailyPrice').val(res.data[0].carDailyprice);
                $('#Available').val(res.data[0].available);
                $('#txtcarPriceperKm').val(res.data[0].carpricePerKm);
                $('#txtcarTransmitionType').val(res.data[0].carTransmitionType);
                $('#txtcarFuelType').val(res.data[0].carFuelType);
                $('#txtCarType').val(res.data[0].vehicleType);
                // $('#txtcarNom').val()
            }
        })
    });
    function loadAllCar(){
        $.ajax({
            url:baseurlThree+"car",
            method:"get",
            success:function (res){
                $('#carTable').empty()
                console.log(res)
                for (let i =0;i < res.data.length;i++){
                    $('#carTable').append(`<tr><td>` + res.data[i].vehicleNum + `</td><td>` + res.data[i].color + `</td><td>` + res.data[i].carMonthlyprice + `</td><td>` + res.data[i].carDailyprice + `</td><td>` + res.data[i].available + `</td><td>` + res.data[i].carpricePerKm + `</td><td>` + res.data[i].carTransmitionType + `</td><td>` + res.data[i].carFuelType +  `</td><td>` + res.data[i].vehicleType + `</td></tr>`);
                }

            }
        })
    };
    $('#carrUpdate').click(function (){
        let carJson={
            vehicleNum:$('#txtcarNom').val(),
            color:$('#txtcarColor').val(),
            carMonthlyprice:$('#txtcarMonthlyPrice').val(),
            carDailyprice:$('#txtcarDailyPrice').val(),
            available: $('#Available').val(),
            carpricePerKm:$('#txtcarPriceperKm').val(),
            carTransmitionType:$('#txtcarTransmitionType').val(),
            vehicleType:$('#txtCarType').val(),
            carFuelType:$('#txtcarFuelType').val()
        };
        $.ajax({
            url:baseurlThree+"car",
            method:"put",
            data:JSON.stringify(carJson),
            dataType:"json",
            contentType:"application/json" ,
            success:function (res){
                alert(res.message);
                carTextFeildClear();
                loadAllCar();
            },
            error:function (error){
                alert("something went wrong")
            }

        })
    });
    function carTextFeildClear(){
        $('#txtcarNom').val('');
        $('#txtcarColor').val('');
        $('#txtcarMonthlyPrice').val('');
        $('#txtcarDailyPrice').val('');
        $('#Available').val('');
        $('#txtcarPriceperKm').val('');
        $('#txtcarTransmitionType').val('');
        $('#txtcarFuelType').val('');
        $('#txtCarType').val('');
    }
    $('#cmbCarType').click(function (){
        let val=$('#cmbCarType').val();
        $('#txtCarType').val(val);
    });
    $('#carDelete').click(function (){
       $.ajax({
           url:baseurlThree+"car?vehicleNum=" + $('#txtcarNom').val(),
           method:"delete",
           success:function (res){
               alert(res.message)
               carTextFeildClear();
               loadAllCar();
           }
       })
    });
    function countAvailableCar(){
        $.ajax({
            url:baseurlThree+"car?available=count",
            dataType:"json",
            success:function (res){
                console.log(res)
                $('#availableCars').text(res.data+"+")
            }
        })
    }
    //CAR END
</script>
</body>
</html>