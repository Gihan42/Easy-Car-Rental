<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">

    <title>Admin Dashboard</title>
</head>
<style>
    body{
        overflow-x: hidden;
        z-index: 0;
        background: rgb(114,114,122);
        background: linear-gradient(90deg, rgba(114,114,122,1) 0%, rgba(152,152,157,0.15467436974789917) 38%, rgba(216,245,251,0.1518732492997199) 100%);
    }
.card{
    margin-top: 20px;
    box-shadow: rgba(0, 0, 0, 0.09) 0px 2px 1px, rgba(0, 0, 0, 0.09) 0px 4px 2px, rgba(0, 0, 0, 0.09) 0px 8px 4px, rgba(0, 0, 0, 0.09) 0px 16px 8px, rgba(0, 0, 0, 0.09) 0px 32px 16px;
}
.card:hover{
    cursor: pointer;
}
#adminContainer{
    padding:10px 110px 110px 110px;
}
.cards{
    padding: 10px 50px 10px 50px;
}
.modal-content{
    width: max-content;
}
#pillstab{
    position: relative;
    left: 180px;
    border: 1px solid #1f2833;
    width: 500px;
    border-radius: 30px;
    background-color:#1f2833;
    box-shadow: rgba(0, 0, 0, 0.3) 0px 19px 38px, rgba(0, 0, 0, 0.22) 0px 15px 12px;
}
    .modal-body{overflow: scroll}
    #homepage,#register{
        cursor: pointer;
        margin-right: 10px;
        width: 105px;
        height: 46px;
    }
   .card{
       box-shadow: rgba(50, 50, 93, 0.25) 0px 50px 100px -20px, rgba(0, 0, 0, 0.3) 0px 30px 60px -30px, rgba(10, 37, 64, 0.35) 0px -2px 6px 0px inset;

   }
</style>
<body>
<!--navbar start-->
<nav class="navbar navbar-expand-lg bg-body-tertiary" style="background-color: #313131">
    <div class="container-fluid" style="background-color: #313131;color: white">
        <a class="navbar-brand" href="#" style="color: white;padding-right: 630px">Easy Car Rent</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent" style="color: white">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                <li class="nav-item">
                    <button type="button" class="btn btn-danger" id="homepage">
                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" class="bi bi-house-add-fill" viewBox="0 0 16 16">
                            <path d="M12.5 16a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7Zm.5-5v1h1a.5.5 0 0 1 0 1h-1v1a.5.5 0 1 1-1 0v-1h-1a.5.5 0 1 1 0-1h1v-1a.5.5 0 0 1 1 0Z"/>
                            <path d="M8.707 1.5a1 1 0 0 0-1.414 0L.646 8.146a.5.5 0 0 0 .708.708L8 2.207l6.646 6.647a.5.5 0 0 0 .708-.708L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.707 1.5Z"/>
                            <path d="m8 3.293 4.712 4.712A4.5 4.5 0 0 0 8.758 15H3.5A1.5 1.5 0 0 1 2 13.5V9.293l6-6Z"/>
                        </svg>
                        Home</button>
                </li>
                <li class="nav-item">
                    <button type="button" class="btn btn-primary" data-bs-target="#exampleModal4" data-bs-toggle="modal" id="register">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-cloud-download-fill" viewBox="0 0 16 16">
                            <path fill-rule="evenodd" d="M8 0a5.53 5.53 0 0 0-3.594 1.342c-.766.66-1.321 1.52-1.464 2.383C1.266 4.095 0 5.555 0 7.318 0 9.366 1.708 11 3.781 11H7.5V5.5a.5.5 0 0 1 1 0V11h4.188C14.502 11 16 9.57 16 7.773c0-1.636-1.242-2.969-2.834-3.194C12.923 1.999 10.69 0 8 0zm-.354 15.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 14.293V11h-1v3.293l-2.146-2.147a.5.5 0 0 0-.708.708l3 3z"/>
                        </svg>
                        Register</button>
                        <div aria-hidden="true" aria-labelledby="exampleModalLabel1" class="modal fade" id="exampleModal4" tabindex="-1"  >
                            <div class="modal-dialog">
                                <div class="modal-content">
                                    <div class="modal-header" style="background-color: #46b2ff;">
                                        <h5 class="modal-title" id="exampleModalLabel4">Admin</h5>
                                        <button aria-label="Close" class="btn-close" data-bs-dismiss="modal" type="button"></button>
                                    </div>
                                    <div class="modal-body" >
                                        <div class="tab-content" id="myTabContentse" >
                                            <div class="tab-pane fade show active" id="home-tab-panese" role="tabpanel" aria-labelledby="home-tab" tabindex="0" >
                                                <div class="container text-center" >
                                                                <div class="card-body">
                                                                    <h1 class="display-4" style="color: #AE303D">Admin Register</h1>
                                                                    <form id="adminRegisterForms">
                                                                        <!-- Email input -->
                                                                        <div class="form-outline mb-4">
                                                                            <label class="form-label" for="txtCustomerNic" style="color: #191919">Email address</label>
                                                                            <input type="text" class="form-control" name="emailaddress" id="txtCustomerNic" name="nic"/>
                                                                        </div>
                                                                        <!-- Password input -->
                                                                        <div class="form-outline mb-4">
                                                                            <label class="form-label" for="txtCustomerPw" style="color: #191919">Password</label>
                                                                            <input type="password" class="form-control" name="password" id="txtCustomerPw" name="password"/>
                                                                        </div>
                                                                        <div class="form-outline mb-4">
                                                                            <label class="form-label" style="color: #191919">Name</label>
                                                                            <input type="text" id="form2_Example3" class="form-control" name="name" />

                                                                        </div>
                                                                        <!-- Submit button -->
                                                                        <button type="button" class="btn btn-primary btn-block mb-4" id="adminRegister" style="position: relative;bottom: 10px;left: 10px">Register</button>

                                                                    </form>
                                                                </div>

                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        </div>
                </li>
            </ul>
            <form class="d-flex" role="search" style="position: relative;top: 5px">
                <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
                <button type="button" class="btn btn-success">Search</button>
            </form>
        </div>
    </div>
</nav>
<!--navbar start-->
<!-- Services Section Begin -->
<div class="container text-center" id="adminContainer">
    <div id="pillstab">
    <h1 style="color: white">Admin</h1>
    </div>
    <div class="row">
        <div class="col" >
            <div class="card" style="width: 18rem;">
                <img src="../assest/img/istockphoto-1341141923-612x612.jpg" class="card-img-top" alt="..." >
                <div class="card-body">
                    <h5 class="card-title">Registered User</h5>
                    <h1 class="card-title" style="color: #263e60" id="RegisteredUser"></h1>
                </div>
            </div>
        </div>
        <div class="col" >
            <div class="card" style="width: 18rem;">
                <img src="../assest/img/123.jpg" class="card-img-top" alt="..." style="width: 70%; height: 20%">
                <div class="card-body">
                    <h5 class="card-title">Available   Cars</h5>
                    <h1 class="card-title" style="color: #263e60" id="availableCars"></h1>
                </div>
            </div>
        </div>
        <div class="col">
            <div class="card" style="width: 18rem;">
                <img src="../assest/img/driver.jpg" class="card-img-top" alt="..." style="width: 89% ; height: 20%">
                <div class="card-body">
                    <h5 class="card-title">Available   Driver</h5>
                    <h1 class="card-title" style="color: #263e60">20+</h1>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col" >
            <div class="card" style="width: 18rem;">
                <img src="../assest/img/maintance.jpg" class="card-img-top" alt="..." style="height: 50%;width: 100%;">
                <div class="card-body">
                    <h5 class="card-title">Car That Need Maintenance</h5>
                    <h1 class="card-title" style="color: #263e60">105+</h1>
                </div>
            </div>
        </div>
        <div class="col" >
            <div class="card" style="width: 18rem;">
                <img src="../assest/img/booking-flights.jpg" class="card-img-top" alt="..." style="width: 90% ; height: 20%">
                <div class="card-body">
                    <h5 class="card-title">Booking Active</h5>
                    <h1 class="card-title" style="color: #263e60">10+</h1>
                </div>
            </div>
        </div>
        <div class="col">
            <div class="card" style="width: 18rem;">
                <img src="../assest/img/Project_1-07.jpg" class="card-img-top" alt="..." style="width: 75% ; height: 20%">
                <div class="card-body">
                    <h5 class="card-title">Bookings for the day</h5>
                    <h1 class="card-title" style="color: #263e60">20+</h1>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Services Section End -->

<!--tabs start-->
<div class="cards">
<div class="row">
    <div class="col-sm-6 mb-3 mb-sm-0">
        <div class="card">
            <div class="card-body">
                <h5 class="card-title">Customer Manage</h5>
                <p class="card-text">With supporting text below as a natural lead-in to additional content.</p>
                <button class="btn btn-danger" data-bs-target="#exampleModal" data-bs-toggle="modal" type="button" id="CustomerManager">
                    Go Customer ->
                </button>
                <button class="btn btn-secondary" data-bs-target="#allCustomer" data-bs-toggle="modal" type="button" id="getAllCustomer">
                    Get All Customer ->
                </button>

                <form class="col-2 " id="CustomerForms" >
                    <div aria-hidden="true" aria-labelledby="exampleModalLabel" class="modal fade" id="exampleModal" tabindex="-1" id="Customerform" >
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header" style="background-color: #46b2ff;">
                                    <h5 class="modal-title" id="exampleModalLabel1">Customer </h5>
                                    <button aria-label="Close" class="btn-close" data-bs-dismiss="modal" type="button"></button>
                                </div>

                                <div class="container text-center">

                                        <div class="col">
                                            <div class="modal-body">
                                                <section>
                                                    <div class="mb-3">

                                                        <input class="form-control" id="txtCustomerId" type="text" name="cusID" placeholder="Nic">
                                                    </div>
                                                    <div class="mb-3">

                                                        <input class="form-control" id="txtCustomerName" multiple type="text" name="name" placeholder="Name">
                                                    </div>
                                                    <div class="mb-3">

                                                        <input class="form-control" id="txtCustomerAddress" type="text" name="address" placeholder="Address">
                                                    </div>
                                                    <div class="mb-3">

                                                        <input class="form-control form-control-sm" id="txtCustomerPassword" type="text" name="password" placeholder="Password">
                                                    </div>
                                                    <div class="mb-3">

                                                        <input class="form-control form-control-sm" id="txtCustomerContactNum" type="number" name="contactnom" placeholder="ContactNum">
                                                    </div>

                                                    <div class="mb-3">

                                                        <input class="form-control form-control-sm" id="txtCustomerLicence" type="text" name="LicenceNum" placeholder="Licence">
                                                    </div>

                                                    <div class="mb-3">
                                                        <input class="form-control" type="file" id="formFiles23" placeholder="Please insert nic picture ">
                                                    </div>

                                                    <div aria-label="Basic mixed styles example" class="btn-group" role="group">
                                                        <button class="btn btn-danger" type="button" id="CustomerDelete"  > Delete</button>
                                                        <button class="btn btn-warning" type="button" id="CustomerUpdate"   > Update</button>
                                                        <!--<button class="btn btn-success " type="button" id="save-customer" > Save</button>-->
                                                        <button class="btn btn-info " type="button" id="search-Customer"  >Search </button>
                                                    </div>
                                                </section>
                                            </div>
                                        </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div aria-hidden="true" aria-labelledby="exampleModalLabel" class="modal fade" id="allCustomer" tabindex="-1" id="getAllCustomerTable" >
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header" style="background-color: #46b2ff;">
                                    <h5 class="modal-title" id="exampleModalLabe">Get All Customer </h5>
                                    <button aria-label="Close" class="btn-close" data-bs-dismiss="modal" type="button"></button>
                                </div>

                                <div class="container text-center">

                                    <div class="col">
                                        <div class="modal-body">
                                            <section>
                                                <table class="table">
                                                    <thead>
                                                    <tr>
                                                        <th scope="col" id="tableNic">nic</th>
                                                        <th scope="col" id="tableName">name</th>
                                                        <th scope="col" id="tableAddress">address</th>
                                                        <th scope="col" id="tablePassword">password</th>
                                                        <th scope="col" id="tableContactNo">contactNum</th>
                                                        <th scope="col" id="tableLicence">licence</th>
                                                    </tr>
                                                    </thead>
                                                    <tbody id="customerTableBody">
                                                    <tr>

                                                    </tr>

                                                    </tbody>
                                                </table>
                                            </section>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                </form>

            </div>
        </div>
    </div>
    <div class="col-sm-6">
        <div class="card">
            <div class="card-body">
                <h5 class="card-title">Manage Driver</h5>
                <p class="card-text">With supporting text below as a natural lead-in to additional content.</p>
                <button class="btn btn-danger" data-bs-target="#exampleModal1" data-bs-toggle="modal" type="button" id="DrivrManage">
                    Go Driver ->
                </button>
                <button class="btn btn-info" data-bs-target="#getAllDriver" data-bs-toggle="modal" type="button" id="DriverManage">
                    Get All Driver ->
                </button>


                <form class="col-2 " id="driverForm" >
                    <div aria-hidden="true" aria-labelledby="exampleModalLabel" class="modal fade" id="exampleModal1" tabindex="-1" id="driverForms" >
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header" style="background-color: #46b2ff;">
                                    <h5 class="modal-title" id="exampleModalLabel3">Driver</h5>
                                    <button aria-label="Close" class="btn-close" data-bs-dismiss="modal" type="button"></button>
                                </div>
                                <div class="modal-body">
                                    <section>
                                        <div class="mb-3">

                                            <input class="form-control" id="txtDriverId" type="text" name="driverID" placeholder="licence No">
                                        </div>
                                        <div class="mb-3">

                                            <input class="form-control" id="txtDriverame" multiple type="text" name="drivername" placeholder="Name">
                                        </div>
                                        <div class="mb-3">

                                            <input class="form-control" id="txtDriverAddress" type="text" name="driveraddress" placeholder="Address">
                                        </div>
                                        <div class="mb-3">

                                            <input class="form-control" id="txtDriverContact" type="text" name="driverContact" placeholder="Contact No" >
                                        </div>
                                        <select class="form-select" aria-label="Default select example" id="isavailable"style="margin-bottom: 10px">
                                            <option value="Available">Available</option>
                                            <option value="Not Available">Not Available</option>
                                        </select>

                                        <div class="mb-3">

                                            <input class="form-control" id="txtDriverVailable" type="text" name="available" placeholder="Availability">
                                        </div>
                                        <div class="mb-3">

                                            <input class="form-control" id="txtDriverPw" type="text" name="password" placeholder="Password">
                                        </div>
                                        <div aria-label="Basic mixed styles example" class="btn-group" role="group">
                                            <button class="btn btn-danger" type="button" id="DriverDelete"  > Delete</button>
                                            <button class="btn btn-warning" type="button" id="DriverUpdate"   >Update</button>
                                            <button class="btn btn-success " type="button" id="save-Driver" > Save</button>
                                            <button class="btn btn-info " type="button" id="search-Driver"  >Search </button>
                                        </div>
                                    </section>
                                </div>
                                <div class="modal-footer">
                                    <button class="btn btn-secondary" type="button">Close</button>
                                    <button class="btn btn-primary" type="button">Save changes</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div aria-hidden="true" aria-labelledby="exampleModalLabel" class="modal fade" id="getAllDriver" tabindex="-1" id="getAllDriverTable" >
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header" style="background-color: #46b2ff;">
                                    <h5 class="modal-title" id="exampleModalLabels">Get All Driver </h5>
                                    <button aria-label="Close" class="btn-close" data-bs-dismiss="modal" type="button"></button>
                                </div>

                                <div class="container text-center">

                                    <div class="col">
                                        <div class="modal-body">
                                            <section>
                                                <table class="table">
                                                    <thead>
                                                    <tr>
                                                        <th scope="col">driverID</th>
                                                        <th scope="col">drivername</th>
                                                        <th scope="col">driveraddress</th>
                                                        <th scope="col">driverContact</th>
                                                        <th scope="col">Availability</th>
                                                        <th scope="col">password</th>
                                                    </tr>
                                                    </thead>
                                                    <tbody id="driverTableBody">
                                                    <tr>

                                                    </tr>
                                                    </tbody>
                                                </table>
                                            </section>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>


                </form>

            </div>
        </div>
    </div>

    <div class="col-sm-6">
        <div class="card">
            <div class="card-body">
                <h5 class="card-title">Manage Car</h5>
                <p class="card-text">With supporting text below as a natural lead-in to additional content.</p>
                <button class="btn btn-danger" data-bs-target="#exampleModal2" data-bs-toggle="modal" type="button" id="addnewCustomer">
                    Go Car ->
                </button>
                <button class="btn btn-warning" data-bs-target="#getAllCar" data-bs-toggle="modal" type="button" id="car">
                    Get All Car ->
                </button>

                <!-- new customer -->
                <form class="col-2 " id="carForms" >
                    <div aria-hidden="true" aria-labelledby="exampleModalLabel" class="modal fade" id="exampleModal2" tabindex="-1" id="CarForm" >
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header" style="background-color: #46b2ff;">
                                    <h5 class="modal-title" id="exampleModalLabel">Car Manage</h5>
                                    <button aria-label="Close" class="btn-close" data-bs-dismiss="modal" type="button"></button>
                                </div>
                                <div class="modal-body">
                                    <section>
                                        <div class="mb-3">

                                            <input class="form-control" id="txtcarNom" type="text" name="vehicleNum" placeholder="vehicle Num">
                                        </div>
                                        <div class="mb-3">

                                            <input class="form-control" id="txtcarModel" type="text" name="vehicleModel" placeholder="vehicle Model">
                                        </div>
                                        <div class="mb-3">

                                            <input class="form-control" id="txtcarColor" multiple type="text" name="Color" placeholder="Colour">
                                        </div>
                                        <div class="mb-3">

                                            <input class="form-control form-control-sm" id="txtcarMonthlyPrice" type="number" name="carMonthlyprice" placeholder="Monthly-Price">
                                        </div>
                                        <div class="mb-3">

                                            <input class="form-control form-control-sm" id="txtcarDailyPrice" type="number" name="carDailyprice" placeholder="Daily-Price">
                                        </div>
                                        <div class="mb-3">
                                            <input class="form-control" type="file" id="formFile" placeholder="Please insert four picture ">
                                        </div>
                                        <div class="mb-3">
                                            <input class="form-control" type="text" id="Available" placeholder="Is Available " name="available">
                                        </div>

                                        <div class="mb-3">

                                            <input class="form-control form-control-sm" id="txtcarPriceperKm" type="number" name="carpriceperkmaday" placeholder="Price-Per-Km-Day">
                                        </div>
                                        <div class="mb-3">

                                            <input class="form-control form-control-sm" id="txtcarpricePerKmMonth" type="number" name="carpricePerKmMonth" placeholder="Price-Per-Km-Month">
                                        </div>
                                        <div class="mb-3">

                                            <input class="form-control form-control-sm" id="txtcarPasanger" type="text" name="carPasanger" placeholder="Passenger">
                                        </div>
                                        <div class="mb-3">

                                            <input class="form-control form-control-sm" id="txtcarFuelType" type="text" name="carFuelType" placeholder="Fuel-Type">
                                        </div>
                                        <select class="form-select" aria-label="Default select example" id="cmbCarType" name=""  style="margin-bottom: 10px">
                                            <option value="General">General</option>
                                            <option value="Premium">Premium</option>
                                            <option value="Luxury">Luxury</option>
                                        </select>
                                        <div class="mb-3">

                                            <input class="form-control form-control-sm" id="txtCarType" type="text" name="vehicleType" placeholder="Car-Type">
                                        </div>
                                        <div class="mb-3">

                                            <input class="form-control form-control-sm" id="txtpricePerExtraKm" type="text" name="pricePerExtraKm" placeholder="Price-Per-Extra-Km">
                                        </div>
                                        <div class="mb-3">

                                            <input class="form-control form-control-sm" id="txtlossDamageWaiver" type="text" name="lossDamageWaiver" placeholder="loss-Damage-Waiver">
                                        </div>

                                        <div aria-label="Basic mixed styles example" class="btn-group" role="group">
                                            <button class="btn btn-danger" type="button" id="carDelete"  > Delete</button>
                                            <button class="btn btn-warning" type="button" id="carrUpdate"   > Update</button>
                                            <button class="btn btn-success " type="button" id="save-car" >Save</button>
                                            <button class="btn btn-info " type="button" id="SearchCar"  >Search-Car</button>
                                        </div>
                                    </section>
                                </div>
                                <div class="modal-footer">
                                    <button class="btn btn-secondary" type="button">Close</button>
                                    <button class="btn btn-primary" type="button">Save changes</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div aria-hidden="true" aria-labelledby="exampleModalLabel" class="modal fade" id="getAllCar" tabindex="-1" id="getAllCarTable" >
                        <div class="modal-dialog position-absolute ms-5" >
                            <div class="modal-content">
                                <div class="modal-header" style="background-color: #46b2ff;">
                                    <h5 class="modal-title" id="exampleModalLabels1">Get All Car </h5>
                                    <button aria-label="Close" class="btn-close" data-bs-dismiss="modal" type="button"></button>
                                </div>
                                <div class="container text-center">
                                    <div class="col">
                                        <div class="modal-body" style="overflow: scroll">
                                            <section>
                                                <table class="table">
                                                    <thead>
                                                    <tr>
                                                        <th scope="col">vehicleNum</th>
                                                        <th scope="col">vehicleModel</th>
                                                        <th scope="col">Color</th>
                                                        <th scope="col">CarMonthlyprice</th>
                                                        <th scope="col">CarDailyprice</th>
                                                        <th scope="col">available</th>
                                                        <th scope="col">CarpricePerKm Day</th>
                                                        <th scope="col">CarpricePerKm Month</th>
                                                        <th scope="col">Passenger</th>
                                                        <th scope="col">CarFuelType</th>
                                                        <th scope="col">Vehicle Type</th>
                                                        <th scope="col">Price per Extra Km</th>
                                                        <th scope="col">Loss Damage Waiver </th>
                                                    </tr>
                                                    </thead>
                                                    <tbody id="carTable">
                                                    </tbody>
                                                </table>
                                            </section>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>

            </div>
        </div>
    </div>
</div>
</div>
<!--tabs end-->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js"></script>
<script src="jquery-3.6.1.min.js"></script>
<script src="db/db.js"></script>
<script>
    let baseurl="http://localhost:8080/BackEnd_war/"
    let basurlTwo="http://localhost:8080/BackEnd_war/"
    let baseurlThree="http://localhost:8080/BackEnd_war/"
    let baseUrlFour="http://localhost:8080/BackEnd_war/"
    // CUSTOMER START
    LoadAllCustomer();
    countCustomer();
    $('#getAllCustomer').click(function (){
        LoadAllCustomer();
    });
    function LoadAllCustomer(){
        $.ajax({
            url:baseurl+"customer",
            success:function (res){
                console.log(res)
                // res = JSON.parse(res)
                $('#customerTableBody').empty();
                for (let i =0;i < res.data.length;i++){
                    $('#customerTableBody').append(`<tr><td>`+ res.data[i].nic +`</td><td>` + res.data[i].name + `</td><td>` + res.data[i].address + `</td><td>` + res.data[i].password + `</td><td>` + res.data[i].contactNum + `</td><td>` + res.data[i].licence + `</td></tr>`)
                }},
            error(error) {
            }

        })
    };
    $('#search-Customer').click(function (){
        $.ajax({
            url:baseurl+"customer?nic=" + $('#txtCustomerId').val(),
            dataType:"json",
            method:"get",
            async:false,
            success:function (res){
                console.log(res);
                $('#txtCustomerId').val(res.data.nic);
                $('#txtCustomerName').val(res.data.name);
                $('#txtCustomerAddress').val(res.data.address);
                $('#txtCustomerPassword').val(res.data.password);
                $('#txtCustomerContactNum').val(res.data.contactNum);
                $('#txtCustomerLicence').val(res.data.licence);
            },
            error(error) {
            }
        })
   });
    $('#CustomerUpdate').click(function (){
        alert('weda')
        let json={
            nic: $('#txtCustomerId').val(),
            name:$('#txtCustomerName').val(),
            address:$('#txtCustomerPassword').val(),
            password:$('#txtCustomerPassword').val(),
            contactNum:$('#txtCustomerContactNum').val(),
            licence:$('#txtCustomerLicence').val()
        };
        $.ajax({
            url:baseUrl+"customer",
            method: "put",
            data:JSON.stringify(json),
            dataType:"json",
            async:false,
            contentType:"application/json",
            success:function(res){
                alert(res.message)
                clearTextFeild();
            },
            error:function(error){
                alert(JSON.parse(error.responseText).message)
            }

        })

    });
    $('#CustomerDelete').click(function (){
        $.ajax({
            url:baseurl+"customer?nic=" + $('#txtCustomerId' ).val(),
            method:'delete',
            async:false,
            success:function (res){
                alert("success delete")
                clearTextFeild();
            },
            error:function (error){

            }

        })
    });
    function clearTextFeild(){
        $('#txtCustomerId').val('');
        $('#txtCustomerName').val('');
        $('#txtCustomerPassword').val('');
        $('#txtCustomerContactNum').val('');
    };
    function countCustomer(){
        $.ajax({
            url:baseurl+"customer?option=count",
            dataType:"json",
            async:false,
            success:function (res){
                LoadAllCustomer();
                $('#RegisteredUser').text(res.data+"+")
            }
        })
    };
    // CUSTOMER END
    // DRIVER START
    loadAllDrivers();

    $('#save-Driver').click(function (){
        let formData=$('#driverForm').serialize();
        $.ajax({
            url:basurlTwo+"driver",
            data:formData,
            dataType:"json",
            method:"post",
            async:false,
            success:function (res){
                alert(res.message);
                loadAllDrivers();
            },
            error:function (error){
                alert(JSON.parse(error.responseText).message)
            }
        })
    });
    $('#search-Driver').click(function (){
        $.ajax({
            url:basurlTwo+"driver?driverID=" + $('#txtDriverId').val(),
            dataType:"json",
            method:"get",
            async:false,
            success:function (res){
                console.log(res)
                $('#txtDriverId').val(res.data.driverID);
                $('#txtDriverame').val(res.data.drivername);
                $('#txtDriverAddress').val(res.data.driveraddress);
                $('#txtDriverContact').val(res.data.driverContact);
                $('#txtDriverVailable').val(res.data.available);
                $('#txtDriverPw').val(res.data.password)
            },
            error:function (error){

            }
        })
    });
    function loadAllDrivers(){
       $.ajax({
           url:basurlTwo+"driver",
           async:false,
           success:function (res){
               console.log(res.data);
               $('#driverTableBody').empty();
               for (let i =0;i < res.data.length;i++){
                   $('#driverTableBody').append(`<tr><td>`+ res.data[i].driverID +`</td><td>` + res.data[i].drivername + `</td><td>` + res.data[i].driveraddress + `</td><td>` + res.data[i].driverContact + `</td><td>` + res.data[i].available+ `</td><td>` + res.data[i].password+ `</td></tr>`);
               }
           },
           error:function (error){

           }
       })
    }
    $('#DriverManage').click(function (){
        loadAllDrivers();
    });
    $('#DriverDelete').click(function (){
        $.ajax({
            url:basurlTwo+"driver?driverID=" + $('#txtDriverId').val(),
            method:"delete",
            async:false,
            success:function (res){
                alert('success deleted');
                clearDriverTextFeild();
            },
            error:function (error){
                alert("something went wrong")
            }
        })
    });
    function clearDriverTextFeild(){
        $('#txtDriverId').val('');
        $('#txtDriverame').val('');
        $('#txtDriverAddress').val('');
        $('#txtDriverContact').val('');
        $('#txtDriverVailable').val('')
    }
    $('#DriverUpdate').click(function (){
        let driverJson={
            driverID:$('#txtDriverId').val(),
            drivername:$('#txtDriverame').val(),
            driveraddress:$('#txtDriverContact').val(),
            driverContact:$('#txtDriverVailable').val(),

        };
        $.ajax({
           url:basurlTwo+"driver",
           method:"put",
           data:JSON.stringify(driverJson),
           dataType:"json",
           contentType:"application/json" ,
            async:false,
            success:function (){
                clearDriverTextFeild();
               alert(res.message)
            },
            error:function (error){
               alert('something went wrong')
            }
        });
    });
    // DRIVER END
    //CAR START
    loadAllCar();
    countAvailableCar();
    $('#save-car').click(function (){
        let carData=$('#carForms').serialize();
        $.ajax({
            url:baseurlThree+"car",
            data:carData,
            dataType:"json",
            method:"post",
            async:false,
            success:function (res){
                alert(res.message);
                carTextFeildClear();
                loadAllCar();
            },
            error:function (error){
                alert(JSON.parse(error.responseText).message)
            }

        })

    });
    $('#SearchCar').click(function (){
        $.ajax({
            url:baseurlThree+"car?vehicleNum=" + $('#txtcarNom').val(),
            dataType:"json",
            method:"get",
            async:false,
            success:function (res){
                $('#txtcarNom').val(res.data.vehicleNum);
                $('#txtcarColor').val(res.data.color);
                $('#txtcarModel').val(res.data.vehicleModel);
                $('#txtcarMonthlyPrice').val(res.data.carMonthlyprice);
                $('#txtcarDailyPrice').val(res.data.carDailyprice);
                $('#Available').val(res.data.available);
                $('#txtcarPriceperKm').val(res.data.carpricePerKm);
                $('#txtcarpricePerKmMonth').val(res.data.carpricePerKmMonth);
                $('#txtcarPasanger').val(res.data.carPasanger);
                $('#txtcarFuelType').val(res.data.carFuelType);
                $('#txtCarType').val(res.data.vehicleType);
                $('#txtpricePerExtraKm').val(res.data.pricePerExtraKm);
                $('#txtlossDamageWaiver').val(res.data.lossDamageWaiver);
                console.log(res);
                // $('#txtcarNom').val()
            }
        })
    });
    function loadAllCar(){
        $.ajax({
            url:baseurlThree+"car",
            method:"get",
            async:false,
            success:function (res){
                $('#carTable').empty()
                console.log(res)
                for (let i =0;i < res.data.length;i++){
                    $('#carTable').append(`<tr><td>` + res.data[i].vehicleNum +`</td><td>` + res.data[i].vehicleModel + `</td><td>` + res.data[i].color + `</td><td>` + res.data[i].carMonthlyprice + `</td><td>` + res.data[i].carDailyprice + `</td><td>` + res.data[i].available + `</td><td>` + res.data[i].carpricePerKm + `</td><td>`  + res.data[i].carpricePerKmMonth + `</td><td>` + res.data[i].carPasanger + `</td><td>` + res.data[i].carFuelType +  `</td><td>` + res.data[i].vehicleType + `</td><td>` + res.data[i].pricePerExtraKm +  `</td><td>` + res.data[i].lossDamageWaiver +  `</td></tr>`);
                }

            }
        })
    };
    $('#carrUpdate').click(function (){
        let carJson={
            vehicleNum:$('#txtcarNom').val(),
            color:$('#txtcarColor').val(),
            vehicleModel: $('#txtcarModel').val(),
            carMonthlyprice:$('#txtcarMonthlyPrice').val(),
            carDailyprice:$('#txtcarDailyPrice').val(),
            available: $('#Available').val(),
            carpricePerKm:$('#txtcarPriceperKm').val(),
            carpricePerKmMonth:$('#txtcarpricePerKmMonth').val(),
            carPassanger:$('#txtcarPasanger').val(),
            vehicleType:$('#txtCarType').val(),
            carFuelType:$('#txtcarFuelType').val(),
            pricePerExtraKm:$('#txtpricePerExtraKm').val(),
            lossDamageWaiver:$('#txtlossDamageWaiver').val()
        };
        $.ajax({
            url:baseurlThree+"car",
            method:"put",
            data:JSON.stringify(carJson),
            dataType:"json",
            contentType:"application/json" ,
            async:false,
            success:function (res){
                alert(res.message);
                carTextFeildClear();
                loadAllCar();
            },
            error:function (error){
                alert("something went wrong")
            }

        })
    });
    function carTextFeildClear(){
        $('#txtcarNom').val('');
        $('#txtcarColor').val('');
        $('#txtcarMonthlyPrice').val('');
        $('#txtcarDailyPrice').val('');
        $('#txtcarMonthlyPrice').val('');
        $('#Available').val('');
        $('#txtcarPriceperKm').val('');
        $('#txtcarPasanger').val('');
        $('#txtcarpricePerKmMonth').val('');
        $('#txtcarFuelType').val('');
        $('#txtCarType').val('');
        $('#txtcarModel').val('');
        $('#txtpricePerExtraKm').val('');
        $('#txtpricePerExtraKm').val('');
        $('#txtlossDamageWaiver').val('');
    };
    $('#cmbCarType').click(function (){
        let val=$('#cmbCarType').val();
        $('#txtCarType').val(val);

    });
    $('#carDelete').click(function (){
       $.ajax({
           url:baseurlThree+"car?vehicleNum=" + $('#txtcarNom').val(),
           method:"delete",
           async:false,
           success:function (res){
               alert(res.message)
               carTextFeildClear();
               loadAllCar();
           }
       })
    });
    function countAvailableCar(){
        $.ajax({
            url:baseurlThree+"car?available=count",
            dataType:"json",
            method:"get",
            async:false,
            success:function (res){
                console.log(res)
                $('#availableCars').text(res.data+"+")
            }
        })
    };
    //CAR END
    $('#homepage').click(function (){
        window.open('../index.html',"_parent");
    });
    $('#bookingpage').click(function (){
        location.href="booking.html";
    })
    $('#adminRegister').click(function (){
        let formData=$('#adminRegisterForms').serialize();
        $.ajax({
            url:baseUrlFour+"admin",
            method:"post",
            data:formData,
            dataTypes:"json",
            async:false,
            success:function (res){
                alert(res.message)
            },
            error:function (error){
                alert(JSON.parse(error.responseText).message)
            }

        });
    });
    $('#isavailable').click(function (){
        let value=$('#isavailable').val();
        $('#txtDriverVailable').val(value);
    });
</script>
</body>
</html>